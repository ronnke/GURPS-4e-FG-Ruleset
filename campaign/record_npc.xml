<?xml version="1.0" encoding="utf-8"?>

<!-- 
  Please see the license.html file included with this distribution for 
  attribution and copyright information.
-->

<root>
  <windowclass name="npc" copy="record_window_tabbed">
    <sizelimits>
      <minimum width="525" height="400" />
    </sizelimits>
    <minimize>minimized_npc</minimize>
    <gmexport>npc</gmexport>
    <tab>
      <name>main</name>
      <resource>tab_main</resource>
      <class>npc_main</class>
      <embed />
    </tab>
    <tab merge="add">
      <name>combat</name>
      <resource>tab_combat</resource>
      <class>npc_combat</class>
      <embed />
    </tab>
    <tab merge="add">
      <name>abilities</name>
      <resource>tab_abilities</resource>
      <class>npc_abilities</class>
      <embed />
    </tab>
    <tab merge="add">
      <name>notes</name>
      <resource>tab_notes</resource>
      <class>record_content_text</class>
      <embed />
    </tab>
		<script>
			function onInit()
				super.onInit();
				self.onIDChanged();
			end
			function onIDChanged()
				super.onLockChanged();
				if not Session.IsHost then
					local bID = LibraryData.getIDState("npc", getDatabaseNode(), true);
					tabs.setVisibility(bID);
				end
			end
		</script>
	</windowclass>
</root>
